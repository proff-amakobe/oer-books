<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 650 420" width="650" height="420">
  <!-- Title -->
  <text x="325" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#1F2937">Strategy Pattern</text>
  <text x="325" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#64748B">Define interchangeable algorithms, select at runtime</text>
  
  <!-- Context Class -->
  <rect x="225" y="65" width="200" height="90" rx="0" fill="white" stroke="#3B82F6" stroke-width="2"/>
  <rect x="225" y="65" width="200" height="25" rx="0" fill="#DBEAFE"/>
  <text x="325" y="82" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#1E40AF" font-weight="bold">Context</text>
  <line x1="225" y1="90" x2="425" y2="90" stroke="#3B82F6" stroke-width="1"/>
  <text x="235" y="108" text-anchor="start" font-family="Consolas, monospace" font-size="9" fill="#374151">- strategy: Strategy</text>
  <line x1="225" y1="118" x2="425" y2="118" stroke="#3B82F6" stroke-width="1"/>
  <text x="235" y="136" text-anchor="start" font-family="Consolas, monospace" font-size="9" fill="#374151">+ setStrategy(s: Strategy)</text>
  <text x="235" y="150" text-anchor="start" font-family="Consolas, monospace" font-size="9" fill="#374151">+ executeStrategy(): void</text>
  
  <!-- Arrow from Context to Strategy -->
  <line x1="325" y1="155" x2="325" y2="190" stroke="#64748B" stroke-width="1.5"/>
  <polygon points="325,190 321,183 329,183" fill="#64748B"/>
  
  <!-- Strategy Interface -->
  <rect x="225" y="195" width="200" height="55" rx="0" fill="white" stroke="#10B981" stroke-width="2"/>
  <rect x="225" y="195" width="200" height="25" rx="0" fill="#D1FAE5"/>
  <text x="325" y="212" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#065F46" font-weight="bold">«interface» Strategy</text>
  <line x1="225" y1="220" x2="425" y2="220" stroke="#10B981" stroke-width="1"/>
  <text x="235" y="240" text-anchor="start" font-family="Consolas, monospace" font-size="9" fill="#374151">+ execute(): void</text>
  
  <!-- Inheritance line -->
  <line x1="325" y1="250" x2="325" y2="275" stroke="#64748B" stroke-width="1.5"/>
  <line x1="100" y1="275" x2="550" y2="275" stroke="#64748B" stroke-width="1.5"/>
  
  <!-- Vertical lines to concrete strategies -->
  <line x1="100" y1="275" x2="100" y2="295" stroke="#64748B" stroke-width="1.5"/>
  <line x1="325" y1="275" x2="325" y2="295" stroke="#64748B" stroke-width="1.5"/>
  <line x1="550" y1="275" x2="550" y2="295" stroke="#64748B" stroke-width="1.5"/>
  
  <!-- Hollow triangle arrows -->
  <polygon points="325,250 320,260 330,260" fill="white" stroke="#64748B" stroke-width="1.5"/>
  
  <!-- ConcreteStrategyA -->
  <rect x="25" y="300" width="150" height="70" rx="0" fill="white" stroke="#F59E0B" stroke-width="2"/>
  <rect x="25" y="300" width="150" height="25" rx="0" fill="#FEF3C7"/>
  <text x="100" y="317" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#92400E" font-weight="bold">CreditCardPayment</text>
  <line x1="25" y1="325" x2="175" y2="325" stroke="#F59E0B" stroke-width="1"/>
  <text x="35" y="345" text-anchor="start" font-family="Consolas, monospace" font-size="8" fill="#374151">+ execute(): void</text>
  <text x="100" y="362" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#64748B" font-style="italic">Process credit card</text>
  
  <!-- ConcreteStrategyB -->
  <rect x="250" y="300" width="150" height="70" rx="0" fill="white" stroke="#F59E0B" stroke-width="2"/>
  <rect x="250" y="300" width="150" height="25" rx="0" fill="#FEF3C7"/>
  <text x="325" y="317" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#92400E" font-weight="bold">PayPalPayment</text>
  <line x1="250" y1="325" x2="400" y2="325" stroke="#F59E0B" stroke-width="1"/>
  <text x="260" y="345" text-anchor="start" font-family="Consolas, monospace" font-size="8" fill="#374151">+ execute(): void</text>
  <text x="325" y="362" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#64748B" font-style="italic">Process PayPal</text>
  
  <!-- ConcreteStrategyC -->
  <rect x="475" y="300" width="150" height="70" rx="0" fill="white" stroke="#F59E0B" stroke-width="2"/>
  <rect x="475" y="300" width="150" height="25" rx="0" fill="#FEF3C7"/>
  <text x="550" y="317" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#92400E" font-weight="bold">CryptoPayment</text>
  <line x1="475" y1="325" x2="625" y2="325" stroke="#F59E0B" stroke-width="1"/>
  <text x="485" y="345" text-anchor="start" font-family="Consolas, monospace" font-size="8" fill="#374151">+ execute(): void</text>
  <text x="550" y="362" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#64748B" font-style="italic">Process crypto</text>
  
  <!-- Caption -->
  <text x="325" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#9CA3AF">Figure 4.21: Strategy Pattern - Payment Processing Example</text>
</svg>

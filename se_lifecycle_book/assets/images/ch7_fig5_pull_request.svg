<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 500" width="700" height="500">
  <!-- Title -->
  <text x="350" y="28" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#1F2937">Pull Request Anatomy</text>
  <text x="350" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#64748B">Essential components of an effective PR</text>
  
  <!-- PR Container -->
  <rect x="25" y="65" width="650" height="410" rx="8" fill="white" stroke="#E2E8F0" stroke-width="2"/>
  
  <!-- PR Header -->
  <rect x="25" y="65" width="650" height="50" rx="8" fill="#F8FAFC"/>
  <circle cx="55" cy="90" r="12" fill="#8B5CF6"/>
  <text x="55" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="white">↗</text>
  <text x="80" y="87" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1F2937">feat: Add user authentication system</text>
  <text x="80" y="102" font-family="Arial, sans-serif" font-size="9" fill="#64748B">#142 opened 2 hours ago by developer</text>
  
  <!-- Open/Merged badge -->
  <rect x="565" y="78" width="60" height="24" rx="12" fill="#D1FAE5"/>
  <text x="595" y="94" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#065F46" font-weight="bold">Open</text>
  
  <!-- Branch info -->
  <rect x="400" y="78" width="150" height="24" rx="4" fill="#F1F5F9"/>
  <text x="475" y="93" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#64748B">feature/auth → main</text>
  
  <!-- Description Section -->
  <rect x="40" y="130" width="620" height="140" rx="6" fill="#F8FAFC" stroke="#E2E8F0" stroke-width="1"/>
  <text x="55" y="150" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#374151">Description</text>
  
  <text x="55" y="172" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#64748B">Summary</text>
  <text x="55" y="186" font-family="Arial, sans-serif" font-size="9" fill="#374151">Implements JWT-based authentication with login/logout endpoints.</text>
  
  <text x="55" y="206" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#64748B">Changes</text>
  <text x="55" y="220" font-family="Arial, sans-serif" font-size="9" fill="#374151">• Added AuthController with login/logout routes</text>
  <text x="55" y="233" font-family="Arial, sans-serif" font-size="9" fill="#374151">• Created JWT token service and middleware</text>
  <text x="55" y="246" font-family="Arial, sans-serif" font-size="9" fill="#374151">• Added user password hashing utility</text>
  
  <text x="55" y="262" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#64748B">Closes #138</text>
  
  <!-- Sidebar elements -->
  <!-- Reviewers -->
  <rect x="480" y="130" width="165" height="65" rx="4" fill="white" stroke="#E2E8F0" stroke-width="1"/>
  <text x="495" y="150" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#374151">Reviewers</text>
  <circle cx="505" cy="170" r="10" fill="#DBEAFE"/>
  <text x="520" y="174" font-family="Arial, sans-serif" font-size="8" fill="#374151">@senior-dev</text>
  <circle cx="567" cy="170" r="6" fill="#22C55E"/>
  <circle cx="505" cy="185" r="10" fill="#FEF3C7"/>
  <text x="520" y="189" font-family="Arial, sans-serif" font-size="8" fill="#374151">@tech-lead</text>
  
  <!-- Labels -->
  <rect x="480" y="200" width="165" height="50" rx="4" fill="white" stroke="#E2E8F0" stroke-width="1"/>
  <text x="495" y="218" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#374151">Labels</text>
  <rect x="495" y="228" width="55" height="16" rx="8" fill="#DBEAFE"/>
  <text x="522" y="239" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#1D4ED8">feature</text>
  <rect x="555" y="228" width="70" height="16" rx="8" fill="#FEE2E2"/>
  <text x="590" y="239" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#B91C1C">security</text>
  
  <!-- CI Checks -->
  <rect x="40" y="280" width="290" height="85" rx="6" fill="white" stroke="#E2E8F0" stroke-width="1"/>
  <text x="55" y="300" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#374151">CI Checks</text>
  
  <circle cx="60" cy="320" r="6" fill="#22C55E"/>
  <text x="75" y="324" font-family="Arial, sans-serif" font-size="8" fill="#374151">Build — passed</text>
  
  <circle cx="60" cy="338" r="6" fill="#22C55E"/>
  <text x="75" y="342" font-family="Arial, sans-serif" font-size="8" fill="#374151">Tests — 42 passed</text>
  
  <circle cx="60" cy="356" r="6" fill="#22C55E"/>
  <text x="75" y="360" font-family="Arial, sans-serif" font-size="8" fill="#374151">Lint — no issues</text>
  
  <circle cx="180" cy="320" r="6" fill="#22C55E"/>
  <text x="195" y="324" font-family="Arial, sans-serif" font-size="8" fill="#374151">Security scan — passed</text>
  
  <circle cx="180" cy="338" r="6" fill="#F59E0B"/>
  <text x="195" y="342" font-family="Arial, sans-serif" font-size="8" fill="#374151">Coverage — 78%</text>
  
  <!-- File Changes -->
  <rect x="345" y="280" width="315" height="85" rx="6" fill="white" stroke="#E2E8F0" stroke-width="1"/>
  <text x="360" y="300" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#374151">Files Changed (5)</text>
  
  <text x="360" y="320" font-family="Consolas, monospace" font-size="8" fill="#374151">src/controllers/auth.ts</text>
  <text x="580" y="320" text-anchor="end" font-family="Arial, sans-serif" font-size="8" fill="#22C55E">+120</text>
  <text x="620" y="320" text-anchor="end" font-family="Arial, sans-serif" font-size="8" fill="#EF4444">-0</text>
  
  <text x="360" y="335" font-family="Consolas, monospace" font-size="8" fill="#374151">src/services/jwt.ts</text>
  <text x="580" y="335" text-anchor="end" font-family="Arial, sans-serif" font-size="8" fill="#22C55E">+85</text>
  <text x="620" y="335" text-anchor="end" font-family="Arial, sans-serif" font-size="8" fill="#EF4444">-0</text>
  
  <text x="360" y="350" font-family="Consolas, monospace" font-size="8" fill="#374151">src/middleware/auth.ts</text>
  <text x="580" y="350" text-anchor="end" font-family="Arial, sans-serif" font-size="8" fill="#22C55E">+45</text>
  <text x="620" y="350" text-anchor="end" font-family="Arial, sans-serif" font-size="8" fill="#EF4444">-2</text>
  
  <text x="360" y="365" font-family="Arial, sans-serif" font-size="8" fill="#64748B">... and 2 more files</text>
  
  <!-- Review Comments -->
  <rect x="40" y="375" width="400" height="85" rx="6" fill="#FEF3C7" stroke="#F59E0B" stroke-width="1"/>
  <text x="55" y="395" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#92400E">Review Comment</text>
  <circle cx="60" cy="415" r="10" fill="#DBEAFE"/>
  <text x="80" y="412" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#374151">@senior-dev</text>
  <text x="155" y="412" font-family="Arial, sans-serif" font-size="7" fill="#64748B">commented on auth.ts:45</text>
  <text x="80" y="430" font-family="Arial, sans-serif" font-size="8" fill="#374151">"Consider adding rate limiting to prevent brute force attacks."</text>
  <rect x="80" y="440" width="55" height="14" rx="4" fill="white" stroke="#CBD5E1" stroke-width="1"/>
  <text x="107" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#64748B">Reply</text>
  
  <!-- Merge Button -->
  <rect x="455" y="385" width="200" height="60" rx="6" fill="white" stroke="#E2E8F0" stroke-width="1"/>
  <rect x="470" y="400" width="170" height="32" rx="6" fill="#22C55E"/>
  <text x="555" y="421" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white" font-weight="bold">✓ Merge Pull Request</text>
  
  <!-- Caption -->
  <text x="350" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#9CA3AF">Figure 7.5: Pull Request Anatomy - Components of an Effective PR</text>
</svg>

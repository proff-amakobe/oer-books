<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 340" width="500" height="340">
  <!-- Title -->
  <text x="250" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1F2937">Factory Method Pattern Structure</text>
  
  <!-- Abstract Creator -->
  <rect x="150" y="50" width="200" height="75" rx="0" fill="white" stroke="#3B82F6" stroke-width="2"/>
  <rect x="150" y="50" width="200" height="25" rx="0" fill="#DBEAFE"/>
  <text x="250" y="67" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#1E40AF" font-weight="bold" font-style="italic">Creator «abstract»</text>
  <line x1="150" y1="75" x2="350" y2="75" stroke="#3B82F6" stroke-width="1"/>
  <text x="160" y="93" text-anchor="start" font-family="Consolas, monospace" font-size="9" fill="#374151">+ factoryMethod(): Product</text>
  <text x="160" y="108" text-anchor="start" font-family="Consolas, monospace" font-size="9" fill="#374151">+ operation(): void</text>
  
  <!-- Inheritance line -->
  <line x1="250" y1="125" x2="250" y2="150" stroke="#64748B" stroke-width="1.5"/>
  <line x1="125" y1="150" x2="375" y2="150" stroke="#64748B" stroke-width="1.5"/>
  
  <!-- Vertical lines to concrete creators -->
  <line x1="125" y1="150" x2="125" y2="175" stroke="#64748B" stroke-width="1.5"/>
  <line x1="375" y1="150" x2="375" y2="175" stroke="#64748B" stroke-width="1.5"/>
  
  <!-- Hollow triangle at top of inheritance -->
  <polygon points="250,125 245,135 255,135" fill="white" stroke="#64748B" stroke-width="1.5"/>
  
  <!-- ConcreteCreatorA -->
  <rect x="25" y="180" width="200" height="70" rx="0" fill="white" stroke="#10B981" stroke-width="2"/>
  <rect x="25" y="180" width="200" height="25" rx="0" fill="#D1FAE5"/>
  <text x="125" y="197" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#065F46" font-weight="bold">ConcreteCreatorA</text>
  <line x1="25" y1="205" x2="225" y2="205" stroke="#10B981" stroke-width="1"/>
  <text x="35" y="223" text-anchor="start" font-family="Consolas, monospace" font-size="9" fill="#374151">+ factoryMethod()</text>
  <text x="35" y="238" text-anchor="start" font-family="Consolas, monospace" font-size="9" fill="#64748B" font-style="italic">  : ProductA</text>
  
  <!-- ConcreteCreatorB -->
  <rect x="275" y="180" width="200" height="70" rx="0" fill="white" stroke="#F59E0B" stroke-width="2"/>
  <rect x="275" y="180" width="200" height="25" rx="0" fill="#FEF3C7"/>
  <text x="375" y="197" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#92400E" font-weight="bold">ConcreteCreatorB</text>
  <line x1="275" y1="205" x2="475" y2="205" stroke="#F59E0B" stroke-width="1"/>
  <text x="285" y="223" text-anchor="start" font-family="Consolas, monospace" font-size="9" fill="#374151">+ factoryMethod()</text>
  <text x="285" y="238" text-anchor="start" font-family="Consolas, monospace" font-size="9" fill="#64748B" font-style="italic">  : ProductB</text>
  
  <!-- Description -->
  <rect x="75" y="270" width="350" height="45" rx="6" fill="#F8FAFC" stroke="#E2E8F0" stroke-width="1"/>
  <text x="250" y="288" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#374151" font-weight="bold">Each concrete creator returns a different product type</text>
  <text x="250" y="303" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748B">Client code works with abstract Creator and Product interfaces</text>
  
  <!-- Caption -->
  <text x="250" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#9CA3AF">Figure 4.16: Factory Method - Creator Hierarchy</text>
</svg>

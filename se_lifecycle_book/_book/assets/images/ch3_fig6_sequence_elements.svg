<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 420" width="700" height="420">
  <!-- Title -->
  <text x="350" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#1F2937">Sequence Diagram Elements</text>
  
  <!-- Lifeline Section -->
  <rect x="30" y="50" width="150" height="140" rx="8" fill="#F8FAFC" stroke="#E2E8F0" stroke-width="1"/>
  <text x="105" y="72" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#374151" font-weight="bold">Lifeline</text>
  
  <rect x="70" y="85" width="70" height="30" rx="4" fill="#DBEAFE" stroke="#3B82F6" stroke-width="1.5"/>
  <text x="105" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1E40AF">:Client</text>
  <line x1="105" y1="115" x2="105" y2="175" stroke="#3B82F6" stroke-width="1.5" stroke-dasharray="5,3"/>
  <text x="105" y="188" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6B7280">Object over time</text>
  
  <!-- Activation Bar Section -->
  <rect x="190" y="50" width="150" height="140" rx="8" fill="#F8FAFC" stroke="#E2E8F0" stroke-width="1"/>
  <text x="265" y="72" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#374151" font-weight="bold">Activation Bar</text>
  
  <rect x="230" y="85" width="70" height="30" rx="4" fill="#DBEAFE" stroke="#3B82F6" stroke-width="1.5"/>
  <text x="265" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1E40AF">:Server</text>
  <line x1="265" y1="115" x2="265" y2="125" stroke="#3B82F6" stroke-width="1.5" stroke-dasharray="5,3"/>
  <rect x="260" y="125" width="10" height="45" fill="#3B82F6"/>
  <line x1="265" y1="170" x2="265" y2="180" stroke="#3B82F6" stroke-width="1.5" stroke-dasharray="5,3"/>
  <text x="265" y="188" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6B7280">Executing</text>
  
  <!-- Messages Section -->
  <rect x="350" y="50" width="320" height="140" rx="8" fill="#F8FAFC" stroke="#E2E8F0" stroke-width="1"/>
  <text x="510" y="72" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#374151" font-weight="bold">Message Types</text>
  
  <!-- Synchronous -->
  <text x="380" y="95" text-anchor="start" font-family="Arial, sans-serif" font-size="9" fill="#64748B">Synchronous:</text>
  <line x1="460" y1="92" x2="530" y2="92" stroke="#1F2937" stroke-width="1.5"/>
  <polygon points="530,92 520,88 520,96" fill="#1F2937"/>
  <text x="550" y="96" text-anchor="start" font-family="Arial, sans-serif" font-size="8" fill="#6B7280">waits for reply</text>
  
  <!-- Return -->
  <text x="380" y="115" text-anchor="start" font-family="Arial, sans-serif" font-size="9" fill="#64748B">Return:</text>
  <line x1="460" y1="112" x2="530" y2="112" stroke="#1F2937" stroke-width="1.5" stroke-dasharray="5,3"/>
  <polygon points="530,112 520,108 520,116" fill="#1F2937"/>
  <text x="550" y="116" text-anchor="start" font-family="Arial, sans-serif" font-size="8" fill="#6B7280">response</text>
  
  <!-- Asynchronous -->
  <text x="380" y="135" text-anchor="start" font-family="Arial, sans-serif" font-size="9" fill="#64748B">Asynchronous:</text>
  <line x1="460" y1="132" x2="530" y2="132" stroke="#1F2937" stroke-width="1.5"/>
  <polygon points="530,132 520,128 520,136" fill="none" stroke="#1F2937" stroke-width="1.5"/>
  <text x="550" y="136" text-anchor="start" font-family="Arial, sans-serif" font-size="8" fill="#6B7280">no wait</text>
  
  <!-- Self message -->
  <text x="380" y="160" text-anchor="start" font-family="Arial, sans-serif" font-size="9" fill="#64748B">Self:</text>
  <path d="M460 157 L490 157 L490 172 L465 172" stroke="#1F2937" stroke-width="1.5" fill="none"/>
  <polygon points="465,172 475,168 475,176" fill="#1F2937"/>
  <text x="550" y="166" text-anchor="start" font-family="Arial, sans-serif" font-size="8" fill="#6B7280">call itself</text>
  
  <!-- Combined Fragments Section -->
  <rect x="30" y="205" width="640" height="180" rx="8" fill="#F8FAFC" stroke="#E2E8F0" stroke-width="1"/>
  <text x="350" y="227" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#374151" font-weight="bold">Combined Fragments (Control Structures)</text>
  
  <!-- alt fragment -->
  <rect x="50" y="245" width="140" height="85" rx="0" fill="none" stroke="#6366F1" stroke-width="1.5"/>
  <rect x="50" y="245" width="30" height="18" rx="0" fill="#6366F1"/>
  <text x="65" y="258" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white" font-weight="bold">alt</text>
  <text x="55" y="280" text-anchor="start" font-family="Arial, sans-serif" font-size="8" fill="#6366F1">[condition]</text>
  <line x1="50" y1="295" x2="190" y2="295" stroke="#6366F1" stroke-width="1" stroke-dasharray="3,2"/>
  <text x="55" y="310" text-anchor="start" font-family="Arial, sans-serif" font-size="8" fill="#6366F1">[else]</text>
  <text x="120" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748B">Alternative (if-else)</text>
  
  <!-- opt fragment -->
  <rect x="210" y="245" width="140" height="85" rx="0" fill="none" stroke="#10B981" stroke-width="1.5"/>
  <rect x="210" y="245" width="30" height="18" rx="0" fill="#10B981"/>
  <text x="225" y="258" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white" font-weight="bold">opt</text>
  <text x="215" y="280" text-anchor="start" font-family="Arial, sans-serif" font-size="8" fill="#10B981">[condition]</text>
  <text x="280" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748B">Optional (if)</text>
  
  <!-- loop fragment -->
  <rect x="370" y="245" width="140" height="85" rx="0" fill="none" stroke="#F59E0B" stroke-width="1.5"/>
  <rect x="370" y="245" width="35" height="18" rx="0" fill="#F59E0B"/>
  <text x="387" y="258" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white" font-weight="bold">loop</text>
  <text x="375" y="280" text-anchor="start" font-family="Arial, sans-serif" font-size="8" fill="#F59E0B">[1..n] or [while]</text>
  <text x="440" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748B">Loop (iteration)</text>
  
  <!-- par fragment -->
  <rect x="530" y="245" width="120" height="85" rx="0" fill="none" stroke="#EF4444" stroke-width="1.5"/>
  <rect x="530" y="245" width="30" height="18" rx="0" fill="#EF4444"/>
  <text x="545" y="258" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white" font-weight="bold">par</text>
  <line x1="530" y1="290" x2="650" y2="290" stroke="#EF4444" stroke-width="1" stroke-dasharray="3,2"/>
  <text x="590" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748B">Parallel</text>
  
  <!-- Caption -->
  <text x="350" y="408" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#9CA3AF">Figure 3.7: Sequence Diagram Elements and Notation</text>
</svg>

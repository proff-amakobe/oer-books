<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 650 420" width="650" height="420">
  <!-- Title -->
  <text x="325" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#1F2937">Factory Method Pattern</text>
  <text x="325" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#64748B">Define interface for creating objects; let subclasses decide which class to instantiate</text>
  
  <!-- Product Interface -->
  <rect x="400" y="70" width="180" height="55" rx="0" fill="white" stroke="#10B981" stroke-width="2"/>
  <rect x="400" y="70" width="180" height="25" rx="0" fill="#D1FAE5"/>
  <text x="490" y="87" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#065F46" font-weight="bold">«interface» Notification</text>
  <line x1="400" y1="95" x2="580" y2="95" stroke="#10B981" stroke-width="1"/>
  <text x="410" y="115" text-anchor="start" font-family="Consolas, monospace" font-size="9" fill="#374151">+ send(message: String)</text>
  
  <!-- Concrete Products -->
  <rect x="330" y="170" width="140" height="50" rx="0" fill="white" stroke="#F59E0B" stroke-width="2"/>
  <rect x="330" y="170" width="140" height="25" rx="0" fill="#FEF3C7"/>
  <text x="400" y="187" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#92400E" font-weight="bold">EmailNotification</text>
  <line x1="330" y1="195" x2="470" y2="195" stroke="#F59E0B" stroke-width="1"/>
  <text x="340" y="212" text-anchor="start" font-family="Consolas, monospace" font-size="8" fill="#374151">+ send(message)</text>
  
  <rect x="480" y="170" width="140" height="50" rx="0" fill="white" stroke="#F59E0B" stroke-width="2"/>
  <rect x="480" y="170" width="140" height="25" rx="0" fill="#FEF3C7"/>
  <text x="550" y="187" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#92400E" font-weight="bold">SMSNotification</text>
  <line x1="480" y1="195" x2="620" y2="195" stroke="#F59E0B" stroke-width="1"/>
  <text x="490" y="212" text-anchor="start" font-family="Consolas, monospace" font-size="8" fill="#374151">+ send(message)</text>
  
  <!-- Inheritance arrows for products -->
  <line x1="490" y1="125" x2="490" y2="145" stroke="#64748B" stroke-width="1.5"/>
  <line x1="400" y1="145" x2="550" y2="145" stroke="#64748B" stroke-width="1.5"/>
  <line x1="400" y1="145" x2="400" y2="170" stroke="#64748B" stroke-width="1.5"/>
  <line x1="550" y1="145" x2="550" y2="170" stroke="#64748B" stroke-width="1.5"/>
  <polygon points="490,125 485,135 495,135" fill="white" stroke="#64748B" stroke-width="1.5"/>
  
  <!-- Creator (Factory) -->
  <rect x="70" y="70" width="200" height="75" rx="0" fill="white" stroke="#3B82F6" stroke-width="2"/>
  <rect x="70" y="70" width="200" height="25" rx="0" fill="#DBEAFE"/>
  <text x="170" y="87" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#1E40AF" font-weight="bold">NotificationFactory</text>
  <line x1="70" y1="95" x2="270" y2="95" stroke="#3B82F6" stroke-width="1"/>
  <text x="80" y="115" text-anchor="start" font-family="Consolas, monospace" font-size="9" fill="#374151">+ createNotification(type)</text>
  <text x="80" y="132" text-anchor="start" font-family="Consolas, monospace" font-size="9" fill="#374151">  : Notification</text>
  
  <!-- Dashed arrow from Factory to Product -->
  <line x1="270" y1="97" x2="400" y2="97" stroke="#64748B" stroke-width="1.5" stroke-dasharray="5,3"/>
  <polygon points="400,97 393,93 393,101" fill="#64748B"/>
  <text x="335" y="90" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748B">«creates»</text>
  
  <!-- Usage Example Box -->
  <rect x="70" y="250" width="510" height="130" rx="8" fill="#F8FAFC" stroke="#E2E8F0" stroke-width="1"/>
  <text x="325" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#374151" font-weight="bold">Usage Example</text>
  
  <text x="90" y="300" text-anchor="start" font-family="Consolas, monospace" font-size="10" fill="#374151">NotificationFactory factory = new NotificationFactory();</text>
  <text x="90" y="320" text-anchor="start" font-family="Consolas, monospace" font-size="10" fill="#374151">Notification n1 = factory.createNotification("email");</text>
  <text x="90" y="340" text-anchor="start" font-family="Consolas, monospace" font-size="10" fill="#374151">Notification n2 = factory.createNotification("sms");</text>
  <text x="90" y="360" text-anchor="start" font-family="Consolas, monospace" font-size="10" fill="#374151">n1.send("Hello World!");  <tspan fill="#64748B">// Sends email</tspan></text>
  
  <!-- Caption -->
  <text x="325" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#9CA3AF">Figure 4.15: Factory Method Pattern - Notification Creation Example</text>
</svg>

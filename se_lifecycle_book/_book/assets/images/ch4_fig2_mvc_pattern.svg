<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 650 400" width="650" height="400">
  <defs>
    <linearGradient id="modelGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="viewGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1D4ED8;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="controlGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#F59E0B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D97706;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Title -->
  <text x="325" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#1F2937">Model-View-Controller (MVC) Pattern</text>
  
  <!-- User -->
  <circle cx="325" cy="70" r="20" fill="#E2E8F0" stroke="#64748B" stroke-width="2"/>
  <circle cx="325" cy="63" r="8" fill="#64748B"/>
  <path d="M310 85 Q325 95 340 85" stroke="#64748B" stroke-width="2" fill="none"/>
  <text x="325" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#374151" font-weight="bold">User</text>
  
  <!-- View -->
  <rect x="225" y="140" width="200" height="70" rx="8" fill="url(#viewGrad)"/>
  <text x="325" y="170" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="white" font-weight="bold">VIEW</text>
  <text x="325" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#DBEAFE">Displays data to user</text>
  
  <!-- Model -->
  <rect x="80" y="270" width="180" height="80" rx="8" fill="url(#modelGrad)"/>
  <text x="170" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="white" font-weight="bold">MODEL</text>
  <text x="170" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#D1FAE5">Data and Business Logic</text>
  <text x="170" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#D1FAE5">Entities, Services</text>
  
  <!-- Controller -->
  <rect x="390" y="270" width="180" height="80" rx="8" fill="url(#controlGrad)"/>
  <text x="480" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="white" font-weight="bold">CONTROLLER</text>
  <text x="480" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#FEF3C7">Handles input, coordinates</text>
  <text x="480" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#FEF3C7">Routes, Actions</text>
  
  <!-- Arrow: User interacts with View -->
  <line x1="325" y1="120" x2="325" y2="140" stroke="#64748B" stroke-width="2"/>
  <polygon points="325,140 321,133 329,133" fill="#64748B"/>
  <text x="380" y="132" text-anchor="start" font-family="Arial, sans-serif" font-size="9" fill="#64748B">interacts</text>
  
  <!-- Arrow: View sends user actions to Controller -->
  <path d="M425 175 Q500 175 500 270" stroke="#64748B" stroke-width="2" fill="none"/>
  <polygon points="500,270 496,263 504,263" fill="#64748B"/>
  <text x="510" y="220" text-anchor="start" font-family="Arial, sans-serif" font-size="9" fill="#64748B">user</text>
  <text x="510" y="232" text-anchor="start" font-family="Arial, sans-serif" font-size="9" fill="#64748B">actions</text>
  
  <!-- Arrow: Controller manipulates Model -->
  <line x1="390" y1="310" x2="260" y2="310" stroke="#64748B" stroke-width="2"/>
  <polygon points="260,310 267,306 267,314" fill="#64748B"/>
  <text x="325" y="303" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748B">manipulates</text>
  
  <!-- Arrow: Model notifies Controller -->
  <line x1="260" y1="325" x2="390" y2="325" stroke="#64748B" stroke-width="2" stroke-dasharray="5,3"/>
  <polygon points="390,325 383,321 383,329" fill="#64748B"/>
  <text x="325" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748B">notifies</text>
  
  <!-- Arrow: Model updates View -->
  <path d="M150 270 Q150 175 225 175" stroke="#64748B" stroke-width="2" fill="none"/>
  <polygon points="225,175 218,171 218,179" fill="#64748B"/>
  <text x="120" y="220" text-anchor="end" font-family="Arial, sans-serif" font-size="9" fill="#64748B">updates</text>
  
  <!-- Caption -->
  <text x="325" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#9CA3AF">Figure 4.2: MVC Pattern - Separation of Concerns in Web Applications</text>
</svg>

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <!-- Title -->
  <text x="400" y="30" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#2c3e50">
    Figure 2.5: RLHF Process - Learning from Human Preferences
  </text>
  
  <!-- Step 1: User Question -->
  <rect x="250" y="70" width="300" height="60" fill="#ecf0f1" stroke="#95a5a6" stroke-width="2" rx="5"/>
  <text x="400" y="95" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#2c3e50">
    User Question
  </text>
  <text x="400" y="115" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#34495e" font-style="italic">
    "How do I resolve a conflict with my coworker?"
  </text>
  
  <!-- Arrow down -->
  <path d="M 400 130 L 400 160" stroke="#34495e" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Step 2: Model generates multiple responses -->
  <rect x="150" y="160" width="500" height="40" fill="#3498db" stroke="#2980b9" stroke-width="2" rx="5"/>
  <text x="400" y="185" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
    Model Generates Multiple Responses
  </text>
  
  <!-- Response A -->
  <g id="response-a">
    <rect x="80" y="230" width="280" height="100" fill="#ffe6e6" stroke="#e74c3c" stroke-width="2" rx="5"/>
    <text x="220" y="255" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#c0392b">
      Response A (Poor Quality)
    </text>
    <text x="100" y="280" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">
      "Just ignore them and avoid
    </text>
    <text x="100" y="298" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">
      confrontation. It's not worth
    </text>
    <text x="100" y="316" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">
      dealing with difficult people."
    </text>
  </g>
  
  <!-- Response B -->
  <g id="response-b">
    <rect x="440" y="230" width="280" height="100" fill="#e6ffe6" stroke="#27ae60" stroke-width="3" rx="5"/>
    <text x="580" y="255" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#229954">
      Response B (Better Quality) âœ“
    </text>
    <text x="460" y="280" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">
      "Try having a calm, private
    </text>
    <text x="460" y="298" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">
      conversation to understand their
    </text>
    <text x="460" y="316" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">
      perspective and find common ground."
    </text>
  </g>
  
  <!-- Arrow down from both -->
  <path d="M 220 330 L 340 370" stroke="#7f8c8d" stroke-width="2"/>
  <path d="M 580 330 L 460 370" stroke="#7f8c8d" stroke-width="2"/>
  
  <!-- Step 3: Human Evaluation -->
  <rect x="250" y="370" width="300" height="60" fill="#f39c12" stroke="#d68910" stroke-width="2" rx="5"/>
  <text x="400" y="395" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
    ðŸ‘¤ Human Evaluators Compare
  </text>
  <text x="400" y="415" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">
    Response B is clearly better
  </text>
  
  <!-- Arrow down -->
  <path d="M 400 430 L 400 460" stroke="#34495e" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Step 4: Model Learning -->
  <rect x="150" y="460" width="500" height="100" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" rx="5"/>
  <text x="400" y="490" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">
    Model Learns from Preference Feedback
  </text>
  <text x="180" y="520" font-family="Arial, sans-serif" font-size="12" text-anchor="start" fill="white">
    âœ“ Increase probability of Response B-style answers
  </text>
  <text x="180" y="542" font-family="Arial, sans-serif" font-size="12" text-anchor="start" fill="white">
    âœ“ Decrease probability of Response A-style answers
  </text>
  
  <!-- Bottom note -->
  <rect x="100" y="575" width="600" height="15" fill="#ecf0f1" rx="3"/>
  <text x="400" y="587" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#7f8c8d" font-style="italic">
    After thousands of comparisons, model aligns with human values: helpful, honest, harmless
  </text>
  
  <!-- Arrow marker -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#34495e"/>
    </marker>
  </defs>
</svg>
